apiVersion: admissionregistration.k8s.io/v1
kind: MutatingWebhookConfiguration
metadata:
  name: runoncedurationoverrides.admission.runoncedurationoverride.openshift.io
  labels:
    runoncedurationoverride: "true"
webhooks:
  - name: runoncedurationoverrides.admission.runoncedurationoverride.openshift.io
    namespaceSelector:
      matchLabels:
        runoncedurationoverrides.admission.runoncedurationoverride.openshift.io/enabled: "true"
      matchExpressions:
        - key: runlevel
          operator: NotIn
          values: ["0","1"]
    matchPolicy: Equivalent
    clientConfig:
      url: https://localhost:9448/apis/admission.runoncedurationoverride.openshift.io/v1/runoncedurationoverrides
      caBundle: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURtVENDQW9HZ0F3SUJBZ0lVTDFlZDZVWGpsSEtmZWZlVklyV3pYNFlzZENnd0RRWUpLb1pJaHZjTkFRRUwKQlFBd1hERUxNQWtHQTFVRUJoTUNlSGd4Q2pBSUJnTlZCQWdNQVhneENqQUlCZ05WQkFjTUFYZ3hDakFJQmdOVgpCQW9NQVhneENqQUlCZ05WQkFzTUFYZ3hDekFKQmdOVkJBTU1BbU5oTVJBd0RnWUpLb1pJaHZjTkFRa0JGZ0Y0Ck1CNFhEVEkxTVRBeU9EQTVNREV4TjFvWERUSTJNVEF5T0RBNU1ERXhOMW93WERFTE1Ba0dBMVVFQmhNQ2VIZ3gKQ2pBSUJnTlZCQWdNQVhneENqQUlCZ05WQkFjTUFYZ3hDakFJQmdOVkJBb01BWGd4Q2pBSUJnTlZCQXNNQVhneApDekFKQmdOVkJBTU1BbU5oTVJBd0RnWUpLb1pJaHZjTkFRa0JGZ0Y0TUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGCkFBT0NBUThBTUlJQkNnS0NBUUVBMHhTby9IcisydjRJdWtZYVBKaHpPUEhZcEI5aGNySkI3YTdoRjFNM2Q5eXgKQ09nS2NUa2YwMXVIRkhwcURmNlB2SWd3S3VMUUtySk5xcmt2Rzd3ME8xa0o3dE1ueVVuMHRLWGRRNGVUcU91bQpBd0hBVzFQSHJSSHJ0TCtDeTRaYysyUURIRU8vaWc3ZnJMWVBWeW15ZVR3VGVMM0RCQjFLZlF5ODMzNTlZMmRHCk45QzAvbW84b3Q5NlBtU3poOFUrbWdRdzh0R0l1VkhRU1hWSCtScU12dkZVY0FTcUdoTVBkdzJwZ0VQYTZKUGMKd2h1ZDMwT2Zadm4rTjUrcGRuLzZ2RTF3aEd0bTJJZEIwMEV3WFUxdCtRQXFnVlQvNUJ0dlBQUmlRU0NvV2g5dgpqMEc4TDhOemRKOUtrcDViVS9QOGZNVkMwcWFzanRDOElaZXlDa1MxVXdJREFRQUJvMU13VVRBZEJnTlZIUTRFCkZnUVViOGtrS1p4ZmdGdGJENnowZnpMbTZXMFhlUjh3SHdZRFZSMGpCQmd3Rm9BVWI4a2tLWnhmZ0Z0YkQ2ejAKZnpMbTZXMFhlUjh3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFOQmdrcWhraUc5dzBCQVFzRkFBT0NBUUVBejFwSgpWSFV6VndSNGxEU2ZqM2k1Z1dibUU0eERWeGYxbFQ3b21wOEJkM0d1TkdHR1Ntb1FlazF3Nmhrb2lMc3dSdzdoCjRSc1VhTWsra3MrdUhwcnFQK01TUW1NNnk2SVE2ZTdkaXZ2KzN0U011cHRkM29wSDIySzNvQ3pzUzNYaC9SM1oKaGU5RTJ1OEhIYnFCUTN5TE9nZDQzM21oU2JHUEFJUmVOWmZhOXZCVFRWanNuVE1laEpZa1RxODYxRlovYlBoMgptNUFoSytUR3NwSGcwQ25EWVFGOUZDMmR3d1ZxK2xueHNMZWZKOWxlTmZSSmVMSWRXeWovNThXUWRJZlZUeHFpCm1VTlp1STNUYlZLN2pQODNieExXTTNDQ3ZmSElHREMxMUZsTkZaK2p3Yjk3ZVVKczRzN2RpQmJtb1VVTGYxdVMKOW9veEFBems5TlFSVXVDUk1BPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
    rules:
      - operations:
          - CREATE
          - UPDATE
        apiGroups:
          - ""
        apiVersions:
          - "v1"
        resources:
          - "pods"
        scope: "Namespaced"
    failurePolicy: Fail
    timeoutSeconds: 5
    sideEffects: None
    reinvocationPolicy: IfNeeded
    admissionReviewVersions: ["v1", "v1beta1"]
